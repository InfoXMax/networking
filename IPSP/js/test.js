var uiCurrent,uiNext,uiNames=[];function uiInput(t){uiCurrent=t.name,uiCurrentIndex=uiNames.indexOf(uiCurrent),uiNext=uiCurrentIndex==uiNames.length-1?uiNames[0]:uiNames[uiCurrentIndex+1]}function jumpdot(t){var e=t.key;"."!=e&&"/"!=e||(t.preventDefault(),document.getElementsByName(uiNext)[0].focus())}function doEnterAction(){event.preventDefault(),document.getElementById("eaShow").checked?document.forms[1].elements.show_all.click():document.getElementById("eaCheck").checked&&document.forms[1].elements.check_all.click()}var octet=new Array,i=0,j=0;function ClearForm(t){for(i=0;i<20;i++)octet[i]=0;t.networkOctet1.value="",t.networkOctet2.value="",t.networkOctet3.value="",t.networkOctet4.value="",t.firstHostOctet1.value="",t.firstHostOctet2.value="",t.firstHostOctet3.value="",t.firstHostOctet4.value="",t.lastHostOctet1.value="",t.lastHostOctet2.value="",t.lastHostOctet3.value="",t.lastHostOctet4.value="",t.broadcastOctet1.value="",t.broadcastOctet2.value="",t.broadcastOctet3.value="",t.broadcastOctet4.value="",t.networkAnswer1.value="",t.networkAnswer2.value="",t.networkAnswer3.value="",t.networkAnswer4.value="",t.firstHostAnswer1.value="",t.firstHostAnswer2.value="",t.firstHostAnswer3.value="",t.firstHostAnswer4.value="",t.lastHostAnswer1.value="",t.lastHostAnswer2.value="",t.lastHostAnswer3.value="",t.lastHostAnswer4.value="",t.broadcastAnswer1.value="",t.broadcastAnswer2.value="",t.broadcastAnswer3.value="",t.broadcastAnswer4.value="",t.nextsubnetAnswer1.value="",t.nextsubnetAnswer2.value="",t.nextsubnetAnswer3.value="",t.nextsubnetAnswer4.value="",t.networkOK.value="",t.firstHostOK.value="",t.lastHostOK.value="",t.broadcastOK.value="",t.nextsubnetOK.value="",t.nextsubnetOctet1.value="",t.nextsubnetOctet2.value="",t.nextsubnetOctet3.value="",t.nextsubnetOctet4.value="",0==(i=Math.floor(3*Math.random()))&&(octet[0]=8+Math.floor(22*Math.random()),octet[1]=1+Math.floor(126*Math.random())),1==i&&(octet[0]=16+Math.floor(14*Math.random()),octet[1]=128+Math.floor(63*Math.random())),2==i&&(octet[0]=24+Math.floor(6*Math.random()),octet[1]=192+Math.floor(31*Math.random())),octet[2]=Math.floor(255*Math.random()),octet[3]=Math.floor(255*Math.random()),octet[4]=Math.floor(255*Math.random()),t.givenMask.value=octet[0],t.givenOctet1.value=octet[1],t.givenOctet2.value=octet[2],t.givenOctet3.value=octet[3],t.givenOctet4.value=octet[4],CalculateOctets(),t.elements.networkOctet1.focus()}function Show(t,e){GetProblem(t);var o=0,c=e,a=1;for(6==c&&(c=0,o=1,t.elements.new_problem.focus());1==a;)switch(1==o?c++:a=0,c){case 1:t.networkAnswer1.value=octet[20],t.networkAnswer2.value=octet[5],t.networkAnswer3.value=octet[6],t.networkAnswer4.value=octet[7];break;case 2:t.firstHostAnswer1.value=octet[21],t.firstHostAnswer2.value=octet[8],t.firstHostAnswer3.value=octet[9],t.firstHostAnswer4.value=octet[10];break;case 3:t.lastHostAnswer1.value=octet[22],t.lastHostAnswer2.value=octet[11],t.lastHostAnswer3.value=octet[12],t.lastHostAnswer4.value=octet[13];break;case 4:t.broadcastAnswer1.value=octet[23],t.broadcastAnswer2.value=octet[14],t.broadcastAnswer3.value=octet[15],t.broadcastAnswer4.value=octet[16];break;case 5:t.nextsubnetAnswer1.value=octet[24],t.nextsubnetAnswer2.value=octet[17],t.nextsubnetAnswer3.value=octet[18],t.nextsubnetAnswer4.value=octet[19];break;default:o=0}}function Check(t,e){GetProblem(t);var o=0,c=e,a=1;for(6==c&&(c=0,o=1,t.elements.show_all.focus());1==a;)switch(1==o?c++:a=0,c){case 1:t.networkOctet1.value==octet[20]&&t.networkOctet2.value==octet[5]&&t.networkOctet3.value==octet[6]&&t.networkOctet4.value==octet[7]?t.networkOK.value="Correct!":t.networkOK.value="Wrong";break;case 2:t.firstHostOctet1.value==octet[21]&&t.firstHostOctet2.value==octet[8]&&t.firstHostOctet3.value==octet[9]&&t.firstHostOctet4.value==octet[10]?t.firstHostOK.value="Correct!":t.firstHostOK.value="Wrong";break;case 3:t.lastHostOctet1.value==octet[22]&&t.lastHostOctet2.value==octet[11]&&t.lastHostOctet3.value==octet[12]&&t.lastHostOctet4.value==octet[13]?t.lastHostOK.value="Correct!":t.lastHostOK.value="Wrong";break;case 4:t.broadcastOctet1.value==octet[23]&&t.broadcastOctet2.value==octet[14]&&t.broadcastOctet3.value==octet[15]&&t.broadcastOctet4.value==octet[16]?t.broadcastOK.value="Correct!":t.broadcastOK.value="Wrong";break;case 5:t.nextsubnetOctet1.value==octet[24]&&t.nextsubnetOctet2.value==octet[17]&&t.nextsubnetOctet3.value==octet[18]&&t.nextsubnetOctet4.value==octet[19]?t.nextsubnetOK.value="Correct!":t.nextsubnetOK.value="Wrong";break;default:o=0}}function GetProblem(t){octet[0]=parseInt(t.givenMask.value),octet[1]=parseInt(t.givenOctet1.value),octet[2]=parseInt(t.givenOctet2.value),octet[3]=parseInt(t.givenOctet3.value),octet[4]=parseInt(t.givenOctet4.value),CalculateOctets()}function CalculateOctets(){for(j=1,i=octet[0]%8,i=8-octet[0]%8;i>0;i--)j*=2;octet[0]<16?octet[0]<8?(octet[21]=octet[20]=Math.floor(octet[1]/j)*j,octet[10]=1,octet[11]=octet[14]=octet[5]+j-1,octet[23]=octet[22]=octet[21]+j-1,octet[12]=octet[15]=octet[16]=255,octet[11]=octet[14]=octet[17]=255,octet[13]=254,octet[18]=octet[15],octet[24]=octet[23],octet[6]=0,octet[9]=0,octet[5]=0,octet[8]=0,octet[7]=0,octet[19]=octet[16],octet[19]>254&&(octet[19]=0,octet[18]=octet[18]+1),octet[18]>254&&(octet[18]=0,octet[17]=octet[17]+1),octet[17]>254&&(octet[17]=0,octet[23]+1>255?octet[24]=255:octet[24]=octet[23]+1),255==octet[23]&&255==octet[14]&&255==octet[15]&&255==octet[16]&&(octet[24]=255,octet[17]=255,octet[18]=255,octet[19]=255)):(octet[5]=octet[8]=Math.floor(octet[2]/j)*j,octet[10]=1,octet[11]=octet[14]=octet[5]+j-1,octet[12]=octet[15]=octet[16]=255,octet[20]=octet[1],octet[13]=254,octet[20]=octet[1],octet[21]=octet[1],octet[22]=octet[1],octet[23]=octet[1],octet[24]=octet[1],octet[18]=octet[19]=0,octet[6]=octet[9]=0,octet[7]=0,octet[17]=octet[14]+1,octet[17]>255&&(octet[17]=0,octet[24]=octet[23]+1)):octet[0]<24?(octet[5]=octet[8]=octet[11]=octet[14]=octet[2],octet[6]=octet[9]=Math.floor(octet[3]/j)*j,octet[12]=octet[15]=octet[6]+j-1,octet[7]=0,octet[20]=octet[1],octet[10]=1,octet[13]=254,octet[16]=255,octet[20]=octet[1],octet[21]=octet[1],octet[22]=octet[1],octet[23]=octet[1],octet[24]=octet[1],octet[19]=0,octet[18]=octet[15]+1,octet[17]=octet[14],octet[18]>255&&(octet[18]=0,octet[17]=octet[17]+1),octet[17]>255&&(octet[17]=0,octet[24]=octet[23]+1)):(octet[5]=octet[8]=octet[11]=octet[14]=octet[2],octet[6]=octet[9]=octet[12]=octet[15]=octet[3],octet[7]=Math.floor(octet[4]/j)*j,octet[10]=octet[7]+1,octet[16]=octet[7]+j-1,octet[13]=octet[16]-1,octet[19]=octet[16]+1,octet[20]=octet[1],octet[21]=octet[1],octet[22]=octet[1],octet[23]=octet[1],octet[24]=octet[1],octet[18]=octet[15],octet[17]=octet[14],octet[19]>255&&(octet[19]=0,octet[18]=octet[18]+1),octet[18]>255&&(octet[18]=0,octet[17]=octet[17]+1),octet[17]>255&&(octet[17]=0,octet[24]=octet[23]+1))}